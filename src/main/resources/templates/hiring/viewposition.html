<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>
<nav th:replace="fragments :: hiringHeader"></nav>

<h1 th:text="|You are viewing position ${position.positionId} - ${position.positionTitle}|"></h1>


<div th:if="${applicantsForThisPosition.size()} > 0">

<h1>Here are the applicants to this position:</h1>

<form th:action="@{/fillposition}" th:object="${application}" method="post">

    <table>
        <tr>
            <th></th>
            <th>Applicant ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th></th>

        </tr>
        <tr th:each="applicant:${applicantsForThisPosition}">
            <td><input type="radio" th:value="${applicant.applicantId}" th:name="applicantId"/></td>
            <td th:text="${applicant.applicantId}"></td>
            <td th:text="${applicant.firstName}"></td>
            <td th:text="${applicant.lastName}"></td>
            <td><a th:href="'/viewapplicant/' + ${applicant.applicantId}">See Applicant Profile</a></td>


        </tr>
    </table>

    <input type="hidden" th:value="${position.positionId}" th:name="positionId"/>
    <input type="submit" value="Fill this position with the selected applicant"/>
</form>
</div>

<h1 th:unless="${applicantsForThisPosition.size()} > 0">No applicants to this position yet!</h1>

<br/>

<div class="buttonlink">
    <a th:href="@{'/considernewapplicants/' + ${position.positionId}}">
    Consider new applicants for this position!
    </a>
</div>

<br/>
<br/>
<br/>

<form onsubmit="return confirm('Do you really want to delete this position? There is no way to undo this.');"
      th:action="@{/deleteposition}" method="post" >
    <input type="hidden" name="positionId" th:value="${position.positionId}">
    <input type="submit" value="Delete this position"/>
</form>

</body>
</html>